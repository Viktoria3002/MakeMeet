<% content_for :title, "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–º–∏ - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å" %>

<div class="admin-container">
  <div class="admin-header">
    <h1>üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–º–∏</h1>
    <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
  </div>

  <div class="admin-nav">
    <%= link_to "–ì–ª–∞–≤–Ω–∞—è", admin_root_path, class: "nav-link" %>
    <%= link_to "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", admin_users_path, class: "nav-link" %>
    <%= link_to "–ü–æ—Å—Ç—ã", admin_posts_path, class: "nav-link active" %>
    <%= link_to "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏", admin_comments_path, class: "nav-link" %>
    <%= link_to "–°–ø—Ä–∏–Ω—Ç—ã", admin_sprints_path, class: "nav-link" %>
  </div>

  <div class="admin-table-container">
    <div class="table-header">
      <h2>–°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ (<%= @posts.count %>)</h2>
    </div>

    <div class="table-responsive">
      <table class="admin-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>–ê–≤—Ç–æ—Ä</th>
            <th>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ</th>
            <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
            <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</th>
            <th>–õ–∞–π–∫–∏</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
        </thead>
        <tbody>
          <% @posts.each do |post| %>
            <tr>
              <td><%= post.post_id || post.id %></td>
              <td>
                <div class="user-cell">
                  <strong><%= post.author.username %></strong>
                  <small><%= post.author.email %></small>
                </div>
              </td>
              <td>
                <div class="content-cell">
                  <%= truncate(post.content, length: 80) %>
                </div>
              </td>
              <td><%= post.created_at.strftime("%d.%m.%Y %H:%M") %></td>
              <td>
                <span class="badge badge-info"><%= post.comments_count %></span>
              </td>
              <td>
                <span class="badge badge-success"><%= post.likes_count %></span>
              </td>
              <td>
                <div class="action-buttons">
                  <%= link_to "–£–¥–∞–ª–∏—Ç—å", 
                      admin_delete_post_path(post), 
                      method: :delete,
                      class: "btn btn-danger btn-sm",
                      confirm: "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ø–æ—Å—Ç?" %>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
